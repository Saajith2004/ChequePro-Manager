<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChequePro Manager</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header with Time Filter -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-money-check-alt"></i>
                    <h1>ChequePro Manager</h1>
                </div>
            </div>
            <div class="header-right">
                <div class="time-filter-container">
                    <div class="filter-box">
                        <i class="fas fa-filter"></i>
                        <select id="timePeriod" onchange="chequeManager.updateDashboard()">
                            <option value="today">Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="year">This Year</option>
                            <option value="custom">Custom Range</option>
                            <option value="all" selected>All Time</option>
                        </select>
                        <div class="custom-range" id="customRange">
                            <input type="date" id="fromDate">
                            <span>to</span>
                            <input type="date" id="toDate">
                            <button class="btn small" onclick="chequeManager.applyCustomRange()">Go</button>
                        </div>
                    </div>
                </div>
                <div class="date-display" id="currentDate"></div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <ul class="nav-menu">
                    <li class="nav-item active" onclick="chequeManager.switchTab('dashboard')">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('cheque-entry')">
                        <i class="fas fa-plus-circle"></i>
                        <span>Cheque Entry</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('cheque-list')">
                        <i class="fas fa-list"></i>
                        <span>Cheque List</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('deposit-slip')">
                        <i class="fas fa-print"></i>
                        <span>Deposit Slip</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('excel-export')">
                        <i class="fas fa-file-excel"></i>
                        <span>Excel Export</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('reports')">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reports</span>
                    </li>
                    <li class="nav-item" onclick="chequeManager.switchTab('settings')">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </li>
                </ul>
            </nav>

            <!-- Content Area -->
            <main class="content-area">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <div class="dashboard-header">
                        <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
                        <div class="period-summary" id="periodSummary">
                            Showing data for: <strong>All Time</strong>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <i class="fas fa-file-invoice-dollar"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Total Amount</h3>
                                <div class="stat-value" id="totalAmount">රු 0.00</div>
                                <div class="stat-detail">Total value of all cheques</div>
                            </div>
                        </div>
                        
                        <div class="stat-card success">
                            <div class="stat-icon">
                                <i class="fas fa-hashtag"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Number of Cheques</h3>
                                <div class="stat-value" id="chequeCount">0</div>
                                <div class="stat-detail">Total cheques in selected period</div>
                            </div>
                        </div>
                        
                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Pending Cheques</h3>
                                <div class="stat-value" id="pendingCheques">0</div>
                                <div class="stat-detail">Awaiting processing</div>
                            </div>
                        </div>
                        
                        <div class="stat-card info">
                            <div class="stat-icon">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Different Banks</h3>
                                <div class="stat-value" id="bankCount">0</div>
                                <div class="stat-detail">Unique banks in period</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-details">
                        <div class="detail-card">
                            <h3><i class="fas fa-chart-line"></i> Amount Breakdown</h3>
                            <div class="amount-breakdown">
                                <div class="breakdown-item">
                                    <span>Average Amount:</span>
                                    <span class="value" id="avgAmount">රු 0.00</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>Largest Amount:</span>
                                    <span class="value" id="maxAmount">රු 0.00</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>Smallest Amount:</span>
                                    <span class="value" id="minAmount">රු 0.00</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>Processed Cheques:</span>
                                    <span class="value" id="processedCount">0</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>Deposited Cheques:</span>
                                    <span class="value" id="depositedCount">0</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="detail-card">
                            <h3><i class="fas fa-calendar-alt"></i> Date Range Details</h3>
                            <div class="date-details">
                                <div class="date-item">
                                    <span>Start Date:</span>
                                    <span class="value" id="rangeStart">N/A</span>
                                </div>
                                <div class="date-item">
                                    <span>End Date:</span>
                                    <span class="value" id="rangeEnd">N/A</span>
                                </div>
                                <div class="date-item">
                                    <span>Days in Period:</span>
                                    <span class="value" id="daysInPeriod">0</span>
                                </div>
                                <div class="date-item">
                                    <span>Cheques per Day:</span>
                                    <span class="value" id="chequesPerDay">0.0</span>
                                </div>
                                <div class="date-item">
                                    <span>Amount per Day:</span>
                                    <span class="value" id="amountPerDay">රු 0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cheque Entry Tab -->
                <div id="cheque-entry" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-edit"></i> Cheque Entry</h2>
                        <div class="tab-actions">
                            <button class="btn secondary" onclick="chequeManager.clearForm()">
                                <i class="fas fa-redo"></i> Clear Form
                            </button>
                        </div>
                    </div>
                    
                    <div class="entry-container">
                        <div class="upload-section">
                            <div class="upload-card">
                                <div class="upload-area" id="uploadArea">
                                    <div class="upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <h3>Upload Cheque Image</h3>
                                    <p>Drag & drop or click to browse</p>
                                    <input type="file" id="imageUpload" accept="image/*">
                                </div>
                                
                                <div class="camera-option">
                                    <button class="btn secondary" id="captureBtn">
                                        <i class="fas fa-camera"></i> Take Photo
                                    </button>
                                    <button class="btn secondary" onclick="chequeManager.loadSampleImage()">
                                        <i class="fas fa-image"></i> Load Sample
                                    </button>
                                </div>
                                
                                <div class="image-preview-container">
                                    <h4>Image Preview</h4>
                                    <div class="image-preview" id="imagePreview">
                                        <div class="empty-preview">
                                            <i class="fas fa-image"></i>
                                            <p>No image selected</p>
                                        </div>
                                    </div>
                                    <div class="preview-actions">
                                        <button class="btn primary" id="extractBtn" disabled>
                                            <i class="fas fa-bolt"></i> Extract Data
                                        </button>
                                        <button class="btn secondary" onclick="chequeManager.clearImage()">
                                            <i class="fas fa-times"></i> Clear
                                        </button>
                                    </div>
                                    <div class="ocr-status" id="ocrStatus"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <div class="form-card">
                                <h3><i class="fas fa-keyboard"></i> Manual Entry Form</h3>
                                <form id="chequeForm" onsubmit="event.preventDefault(); chequeManager.saveCheque();">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="chequeNo"><i class="fas fa-hashtag"></i> Cheque Number *</label>
                                            <input type="text" id="chequeNo" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="amount"><i class="fas fa-money-bill-wave"></i> Amount (LKR) *</label>
                                            <input type="number" id="amount" step="0.01" min="0" required>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="bankName"><i class="fas fa-university"></i> Bank Name *</label>
                                            <input type="text" id="bankName" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="branch"><i class="fas fa-code-branch"></i> Branch</label>
                                            <input type="text" id="branch">
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="payee"><i class="fas fa-user"></i> Payee Name *</label>
                                            <input type="text" id="payee" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="accountNo"><i class="fas fa-credit-card"></i> Account Number</label>
                                            <input type="text" id="accountNo">
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="dateIssued"><i class="fas fa-calendar-alt"></i> Date Issued *</label>
                                            <input type="date" id="dateIssued" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="dateDeposited"><i class="fas fa-calendar-check"></i> Date to Deposit *</label>
                                            <input type="date" id="dateDeposited" required>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="notes"><i class="fas fa-sticky-note"></i> Notes</label>
                                        <textarea id="notes" rows="3" placeholder="Any additional notes..."></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="status"><i class="fas fa-tag"></i> Status</label>
                                        <select id="status">
                                            <option value="pending">Pending</option>
                                            <option value="processed">Processed</option>
                                            <option value="deposited">Deposited</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-actions">
                                        <button type="submit" class="btn success">
                                            <i class="fas fa-save"></i> Save Cheque
                                        </button>
                                        <button type="button" class="btn primary" onclick="chequeManager.saveAndNew()">
                                            <i class="fas fa-plus"></i> Save & New
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cheque List Tab -->
                <div id="cheque-list" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-list"></i> Cheque List</h2>
                        <div class="tab-actions">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="searchInput" placeholder="Search cheques..." oninput="chequeManager.searchCheques()">
                            </div>
                            <div class="list-filters">
                                <select id="statusFilter" onchange="chequeManager.filterCheques()">
                                    <option value="all">All Status</option>
                                    <option value="pending">Pending</option>
                                    <option value="processed">Processed</option>
                                    <option value="deposited">Deposited</option>
                                </select>
                                <input type="date" id="dateFilter" onchange="chequeManager.filterCheques()">
                                <button class="btn secondary" onclick="chequeManager.clearFilters()">
                                    <i class="fas fa-times"></i> Clear
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="list-summary">
                        <div class="summary-item">
                            <span>Showing:</span>
                            <span id="showingCount">0</span>
                            <span>cheques</span>
                        </div>
                        <div class="summary-item">
                            <span>Total:</span>
                            <span id="listTotalAmount">රු 0.00</span>
                        </div>
                    </div>
                    
                    <div class="cheque-table-container">
                        <table class="cheque-table">
                            <thead>
                                <tr>
                                    <th>Cheque No</th>
                                    <th>Payee</th>
                                    <th>Bank</th>
                                    <th>Amount</th>
                                    <th>Date Issued</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="chequeTableBody">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-footer">
                        <div class="pagination">
                            <button class="btn small" onclick="chequeManager.prevPage()" id="prevBtn" disabled>
                                <i class="fas fa-chevron-left"></i> Previous
                            </button>
                            <span class="page-info" id="pageInfo">Page 1 of 1</span>
                            <button class="btn small" onclick="chequeManager.nextPage()" id="nextBtn" disabled>
                                Next <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Deposit Slip Tab -->
                <div id="deposit-slip" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-print"></i> Deposit Slip Generator</h2>
                        <div class="tab-actions">
                            <button class="btn primary" onclick="chequeManager.generateDepositFromPending()">
                                <i class="fas fa-file-invoice-dollar"></i> Generate from Pending
                            </button>
                        </div>
                    </div>
                    
                    <div class="deposit-container">
                        <div class="deposit-controls">
                            <div class="date-selection">
                                <label>Deposit Date:</label>
                                <input type="date" id="depositDate" value="">
                            </div>
                            <div class="selection-actions">
                                <button class="btn secondary" onclick="chequeManager.selectAllForDeposit()">
                                    <i class="fas fa-check-square"></i> Select All
                                </button>
                                <button class="btn secondary" onclick="chequeManager.clearDepositSelection()">
                                    <i class="fas fa-times-circle"></i> Clear All
                                </button>
                            </div>
                        </div>
                        
                        <div class="cheque-selection">
                            <h3>Select Cheques for Deposit</h3>
                            <div class="selection-summary">
                                <span>Selected: <strong id="selectedCount">0</strong> cheques</span>
                                <span>Total: <strong id="selectedTotal">රු 0.00</strong></span>
                            </div>
                            <div id="depositChequeList" class="cheque-selection-grid">
                                <!-- Cheque selection cards will appear here -->
                            </div>
                        </div>
                        
                        <div class="deposit-preview-section">
                            <h3>Deposit Slip Preview</h3>
                            <div class="deposit-preview" id="depositPreview">
                                <div class="deposit-slip">
                                    <div class="slip-header">
                                        <h2>BANK DEPOSIT SLIP</h2>
                                        <div class="slip-info">
                                            <div class="slip-date">
                                                <strong>Date:</strong> <span id="slipDate"></span>
                                            </div>
                                            <div class="slip-number">
                                                <strong>Slip #:</strong> <span id="slipNumber">001</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="slip-body">
                                        <div class="account-info">
                                            <p><strong>Account Holder:</strong> <span id="accountHolder">Your Name</span></p>
                                            <p><strong>Account Number:</strong> <span id="accountNumber">XXXX-XXXX-XXXX</span></p>
                                            <p><strong>Bank Name:</strong> <span id="bankNameSlip">Your Bank</span></p>
                                            <p><strong>Branch:</strong> <span id="branchSlip">Main Branch</span></p>
                                        </div>
                                        
                                        <table class="deposit-table">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Cheque No</th>
                                                    <th>Bank</th>
                                                    <th>Payee</th>
                                                    <th>Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody id="depositTableBody">
                                                <tr>
                                                    <td colspan="5" class="empty-table">
                                                        <i class="fas fa-file-invoice"></i>
                                                        <p>No cheques selected for deposit</p>
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <td colspan="4"><strong>Total Amount:</strong></td>
                                                    <td id="depositTotal">රු 0.00</td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                        
                                        <div class="slip-footer">
                                            <div class="amount-words">
                                                <strong>Amount in Words:</strong>
                                                <p id="amountInWords">Zero rupees only</p>
                                            </div>
                                            <div class="signature-section">
                                                <div class="signature">
                                                    <p>Signature: _________________________</p>
                                                </div>
                                                <div class="prepared-by">
                                                    <p>Prepared By: <span id="preparedBy">Admin</span></p>
                                                </div>
                                            </div>
                                            <div class="slip-notes">
                                                <p><strong>Notes:</strong> <span id="slipNotes">All cheques are properly endorsed</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="deposit-actions">
                                <button class="btn success" onclick="chequeManager.printDepositSlip()">
                                    <i class="fas fa-print"></i> Print
                                </button>
                                <button class="btn primary" onclick="chequeManager.saveDepositAsPDF()">
                                    <i class="fas fa-file-pdf"></i> Save as PDF
                                </button>
                                <button class="btn secondary" onclick="chequeManager.markAsDeposited()">
                                    <i class="fas fa-check-double"></i> Mark as Deposited
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Excel Export Tab -->
                <div id="excel-export" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-file-excel"></i> Excel Operations</h2>
                        <p>Export, update, and import cheque data</p>
                    </div>
                    
                    <div class="excel-cards">
                        <div class="excel-card">
                            <div class="excel-icon">
                                <i class="fas fa-file-export"></i>
                            </div>
                            <h3>Export to Excel</h3>
                            <p>Export all cheque data to a new Excel file</p>
                            <div class="export-options">
                                <label>
                                    <input type="checkbox" id="exportImages" checked> Include images
                                </label>
                                <label>
                                    <input type="checkbox" id="exportAll" checked> Export all data
                                </label>
                            </div>
                            <button class="btn success" onclick="chequeManager.exportToExcel()">
                                <i class="fas fa-download"></i> Export Now
                            </button>
                        </div>
                        
                        <div class="excel-card">
                            <div class="excel-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <h3>Update Excel File</h3>
                            <p>Update existing Excel file with new data</p>
                            <input type="file" id="updateFile" accept=".xlsx,.xls" style="display: none;">
                            <button class="btn primary" onclick="document.getElementById('updateFile').click();">
                                <i class="fas fa-upload"></i> Choose File
                            </button>
                            <p class="note">Will add new cheques to existing file</p>
                        </div>
                        
                        <div class="excel-card">
                            <div class="excel-icon">
                                <i class="fas fa-file-import"></i>
                            </div>
                            <h3>Import from Excel</h3>
                            <p>Import cheque data from Excel file</p>
                            <input type="file" id="importFile" accept=".xlsx,.xls" style="display: none;">
                            <button class="btn secondary" onclick="document.getElementById('importFile').click();">
                                <i class="fas fa-file-import"></i> Import Data
                            </button>
                            <p class="note">Will merge with existing data</p>
                        </div>
                    </div>
                    
                    <div class="data-preview">
                        <h3><i class="fas fa-eye"></i> Data Preview</h3>
                        <div class="preview-controls">
                            <select id="previewFilter" onchange="chequeManager.updatePreview()">
                                <option value="all">All Cheques</option>
                                <option value="pending">Pending Only</option>
                                <option value="recent">Recent (Last 7 days)</option>
                            </select>
                        </div>
                        <div class="preview-table-container">
                            <table class="preview-table">
                                <thead>
                                    <tr>
                                        <th>Cheque No</th>
                                        <th>Payee</th>
                                        <th>Bank</th>
                                        <th>Amount</th>
                                        <th>Date</th>
                                    </tr>
                                </thead>
                                <tbody id="excelPreview">
                                    <!-- Preview data will appear here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reports Tab -->
                <div id="reports" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-chart-bar"></i> Reports</h2>
                        <div class="tab-actions">
                            <button class="btn primary" onclick="chequeManager.generateReport()">
                                <i class="fas fa-chart-line"></i> Generate Report
                            </button>
                            <button class="btn secondary" onclick="chequeManager.exportReport()">
                                <i class="fas fa-download"></i> Export Report
                            </button>
                        </div>
                    </div>
                    
                    <div class="reports-container">
                        <div class="report-filters">
                            <div class="filter-group">
                                <label>Report Type:</label>
                                <select id="reportType">
                                    <option value="summary">Summary Report</option>
                                    <option value="bank">Bank-wise Report</option>
                                    <option value="monthly">Monthly Report</option>
                                    <option value="status">Status Report</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Date Range:</label>
                                <input type="date" id="reportFrom">
                                <span>to</span>
                                <input type="date" id="reportTo">
                            </div>
                            <div class="filter-group">
                                <label>Group By:</label>
                                <select id="groupBy">
                                    <option value="day">Day</option>
                                    <option value="week">Week</option>
                                    <option value="month">Month</option>
                                    <option value="bank">Bank</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="report-results">
                            <div class="report-summary">
                                <h3>Report Summary</h3>
                                <div id="reportSummary">
                                    <!-- Report summary will appear here -->
                                </div>
                            </div>
                            
                            <div class="report-chart">
                                <h3>Visualization</h3>
                                <div id="reportChart" class="chart-container">
                                    <!-- Chart will appear here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-cog"></i> Settings</h2>
                    </div>
                    
                    <div class="settings-container">
                        <div class="settings-section">
                            <h3><i class="fas fa-user-cog"></i> User Preferences</h3>
                            <div class="settings-form">
                                <div class="form-group">
                                    <label for="settingAccountHolder">Account Holder Name</label>
                                    <input type="text" id="settingAccountHolder" placeholder="Enter your name">
                                </div>
                                <div class="form-group">
                                    <label for="settingDefaultBank">Default Bank</label>
                                    <input type="text" id="settingDefaultBank" placeholder="Enter default bank">
                                </div>
                                <div class="form-group">
                                    <label for="settingCurrency">Currency</label>
                                    <select id="settingCurrency">
                                        <option value="LKR">LKR (රු)</option>
                                        <option value="USD">USD ($)</option>
                                        <option value="EUR">EUR (€)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="settingDateFormat">Date Format</label>
                                    <select id="settingDateFormat">
                                        <option value="dd/mm/yyyy">DD/MM/YYYY</option>
                                        <option value="mm/dd/yyyy">MM/DD/YYYY</option>
                                        <option value="yyyy-mm-dd">YYYY-MM-DD</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3><i class="fas fa-image"></i> OCR Settings</h3>
                            <div class="settings-form">
                                <div class="form-group">
                                    <label for="settingOcrLanguage">OCR Language</label>
                                    <select id="settingOcrLanguage">
                                        <option value="eng">English</option>
                                        <option value="sin">Sinhala</option>
                                        <option value="tam">Tamil</option>
                                    </select>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="settingAutoExtract" checked>
                                    <label for="settingAutoExtract">Auto-extract data on upload</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="settingSaveImages" checked>
                                    <label for="settingSaveImages">Save cheque images</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3><i class="fas fa-receipt"></i> Deposit Slip Settings</h3>
                            <div class="settings-form">
                                <div class="form-group">
                                    <label for="settingDepositNotes">Default Notes</label>
                                    <textarea id="settingDepositNotes" rows="2">All cheques are properly endorsed</textarea>
                                </div>
                                <div class="form-group">
                                    <label for="settingPreparedBy">Prepared By</label>
                                    <input type="text" id="settingPreparedBy" placeholder="Enter preparer name">
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn secondary" onclick="chequeManager.resetSettings()">
                                <i class="fas fa-undo"></i> Reset Defaults
                            </button>
                            <button class="btn primary" onclick="chequeManager.saveSettings()">
                                <i class="fas fa-save"></i> Save Settings
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Modals -->
        <div id="cameraModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-camera"></i> Capture Cheque Photo</h3>
                    <span class="close-modal" onclick="chequeManager.closeCamera()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="camera-container">
                        <video id="cameraPreview" autoplay playsinline></video>
                        <div class="camera-controls">
                            <button class="btn secondary" onclick="chequeManager.switchCamera()">
                                <i class="fas fa-sync-alt"></i> Switch Camera
                            </button>
                            <button class="btn primary" onclick="chequeManager.capturePhoto()">
                                <i class="fas fa-camera"></i> Capture
                            </button>
                        </div>
                    </div>
                    <canvas id="photoCanvas" style="display: none;"></canvas>
                </div>
            </div>
        </div>

        <div id="editModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-edit"></i> Edit Cheque</h3>
                    <span class="close-modal" onclick="chequeManager.closeEditModal()">&times;</span>
                </div>
                <div class="modal-body" id="editModalBody">
                    <!-- Edit form will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Load local JS files -->
    <script src="tesseract.min.js"></script>
    <script src="xlsx.full.min.js"></script>
    <script src="jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>